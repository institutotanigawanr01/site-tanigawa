<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Seu PropÃ³sito Nasceu</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #1a2b4a 0%, #2d4a7c 100%);
            min-height: 100vh;
            color: #ffffff;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        .container { max-width: 800px; width: 100%; text-align: center; }
        .nascimento {
            background: radial-gradient(circle, rgba(244, 208, 63, 0.2) 0%, rgba(0,0,0,0.6) 100%);
            border: 2px solid rgba(244, 208, 63, 0.5);
            border-radius: 30px;
            padding: 60px 40px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.7);
        }
        .celebracao { font-size: 4em; margin-bottom: 20px; }
        h1 {
            font-size: 1.2em;
            text-transform: uppercase;
            letter-spacing: 0.2em;
            color: #f4d03f;
            margin-bottom: 30px;
        }
        .proposito {
            font-size: 2.5em;
            font-weight: 800;
            color: #ffffff;
            text-shadow: 0 0 30px rgba(255, 255, 255, 0.4);
            line-height: 1.3;
            margin: 30px 0;
            padding: 20px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
        }
        .btn {
            margin: 15px 10px;
            background: linear-gradient(135deg, #d4af37 0%, #f4d03f 100%);
            color: #1a2b4a;
            border: none;
            padding: 15px 35px;
            font-size: 1em;
            font-weight: 600;
            border-radius: 999px;
            cursor: pointer;
            text-decoration: none;
            display: inline-block;
        }
        @media (max-width: 768px) {
            .proposito { font-size: 1.8em; }
            .nascimento { padding: 40px 25px; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="nascimento">
            <div class="celebracao">ðŸŽ‰</div>
            <h1>SEU PROPÃ“SITO NASCEU!</h1>
            <div class="proposito" id="proposito-principal">ANALISANDO...</div>
            <a href="relatorio-final.html" class="btn">ðŸ“‹ Ver RelatÃ³rio Completo</a>
            <a href="utero-base.html" class="btn">ðŸ”„ Refazer</a>
        </div>
    </div>
    <script>
        function analisar() {
            const r = {}, c = ['concepcao1','concepcao2','concepcao3','implantacao1','implantacao2','implantacao3','batimento1','batimento2','batimento3','membros1','membros2','membros3','chute1','chute2','chute3','olhos1','olhos2','olhos3','respiracao1','respiracao2','respiracao3','voz1','voz2','voz3','parto1','parto2','parto3'];
            c.forEach(k => r[k] = (localStorage.getItem(k) || '').trim());
            const t = Object.values(r).join(' ').toLowerCase();
            const p = {
                verbos: {'LIBERTAR':['libert','free'],'CURAR':['curar','cura','restaur'],'FORMAR':['ensinar','educar','formar'],'CONSTRUIR':['construir','edificar'],'DESPERTAR':['despertar','revel'],'GUIAR':['guiar','liderar'],'TRANSFORMAR':['transform']},
                dest: {'JOVENS':['jovem'],'MULHERES':['mulher'],'HOMENS':['homem','pai'],'LÃDERES':['lÃ­der','lider','pastor'],'CRIANÃ‡AS':['crianÃ§a'],'EMPRESÃRIOS':['empresÃ¡r','empreend'],'FAMÃLIAS':['famÃ­lia']},
                cond: {'FERIDOS':['ferido','dor','trauma'],'APRISIONADOS':['preso','cativo'],'PERDIDOS':['perdido','confuso'],'Ã“RFÃƒOS':['Ã³rfÃ£o','abandon'],'OPRIMIDOS':['oprimido']}
            };
            function calc(cat) {
                const res = {};
                for(const [n,pl] of Object.entries(p[cat])) {
                    let peso = 0;
                    pl.forEach(pal => {
                        const m = t.match(new RegExp(pal,'gi'));
                        if(m) peso += m.length;
                    });
                    res[n] = peso;
                }
                return res;
            }
            function dom(pesos) {
                let max=0, d=null;
                for(const [n,pe] of Object.entries(pesos)) {
                    if(pe>max) { max=pe; d=n; }
                }
                return d;
            }
            const v = dom(calc('verbos')) || 'TRANSFORMAR';
            const d = dom(calc('dest')) || 'PESSOAS';
            const co = dom(calc('cond')) || 'PERDIDAS';
            return `${v} ${d} ${co}`;
        }
        window.onload = () => {
            const prop = analisar();
            document.getElementById('proposito-principal').textContent = prop;
            localStorage.setItem('tema_central', prop);
        };
    </script>
</body>
</html>