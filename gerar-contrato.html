<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerar Contrato - Instituto Tanigawa</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700;800&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-blue: #3b82f6;
            --primary-gold: #f59e0b;
            --dark-bg: #0f172a;
            --card-bg: rgba(30, 41, 59, 0.5);
            --text-light: #e2e8f0;
            --text-gray: #94a3b8;
            --success: #10b981;
            --danger: #ef4444;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            color: var(--text-light);
            min-height: 100vh;
            padding: 2rem 1rem;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .header {
            background: rgba(15, 23, 42, 0.95);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(59, 130, 246, 0.2);
            border-radius: 16px;
            padding: 1.5rem 2rem;
            margin-bottom: 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .logo-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #3b82f6, #f59e0b);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: 800;
            color: white;
        }

        h1 {
            font-family: 'Playfair Display', serif;
            font-size: 1.75rem;
            background: linear-gradient(135deg, #3b82f6, #f59e0b);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .btn-back {
            background: rgba(239, 68, 68, 0.1);
            border: 1px solid rgba(239, 68, 68, 0.3);
            color: var(--danger);
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.875rem;
            font-weight: 600;
            transition: all 0.3s;
        }

        .btn-back:hover {
            background: rgba(239, 68, 68, 0.2);
            transform: translateY(-2px);
        }

        .content-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
        }

        .panel {
            background: var(--card-bg);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(59, 130, 246, 0.2);
            border-radius: 16px;
            padding: 2rem;
        }

        .panel-title {
            font-family: 'Playfair Display', serif;
            font-size: 1.5rem;
            margin-bottom: 1.5rem;
            color: var(--primary-blue);
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        label {
            display: block;
            font-size: 0.875rem;
            font-weight: 600;
            color: var(--text-gray);
            margin-bottom: 0.5rem;
        }

        input, select, textarea {
            width: 100%;
            padding: 0.75rem;
            background: rgba(15, 23, 42, 0.6);
            border: 1px solid rgba(59, 130, 246, 0.2);
            border-radius: 8px;
            color: var(--text-light);
            font-size: 0.875rem;
            transition: all 0.3s;
        }

        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: var(--primary-blue);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        input:disabled {
            background: rgba(15, 23, 42, 0.3);
            cursor: not-allowed;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        .btn-primary {
            width: 100%;
            padding: 1rem;
            background: linear-gradient(135deg, #3b82f6, #f59e0b);
            border: none;
            border-radius: 8px;
            color: white;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 1rem;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(59, 130, 246, 0.3);
        }

        .preview-container {
            background: white;
            color: #1e293b;
            padding: 3rem;
            border-radius: 8px;
            font-family: 'Times New Roman', serif;
            font-size: 12pt;
            line-height: 1.6;
            max-height: 800px;
            overflow-y: auto;
        }

        .preview-container h2 {
            text-align: center;
            font-size: 18pt;
            margin-bottom: 2rem;
            color: #1e293b;
        }

        .preview-container h3 {
            font-size: 14pt;
            margin-top: 1.5rem;
            margin-bottom: 1rem;
            color: #1e293b;
        }

        .preview-container p {
            margin-bottom: 1rem;
            text-align: justify;
        }

        .preview-container strong {
            font-weight: bold;
        }

        .alert {
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 1.5rem;
            font-size: 0.875rem;
        }

        .alert-info {
            background: rgba(59, 130, 246, 0.1);
            border: 1px solid rgba(59, 130, 246, 0.3);
            color: var(--primary-blue);
        }

        .alert-success {
            background: rgba(16, 185, 129, 0.1);
            border: 1px solid rgba(16, 185, 129, 0.3);
            color: var(--success);
        }

        @media (max-width: 1024px) {
            .content-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .form-row {
                grid-template-columns: 1fr;
            }
            
            .preview-container {
                padding: 1.5rem;
                font-size: 11pt;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <div class="logo">
                <div class="logo-icon">IT</div>
                <div>
                    <h1>Gerador de Contrato</h1>
                    <p style="font-size: 0.75rem; color: var(--text-gray);">Instituto Tanigawa - Mentoria Profissional</p>
                </div>
            </div>
            <button class="btn-back" onclick="voltarDashboard()">‚Üê Voltar ao Dashboard</button>
        </div>

        <!-- Content Grid -->
        <div class="content-grid">
            <!-- Painel Esquerdo: Formul√°rio -->
            <div class="panel">
                <h2 class="panel-title">üìù Dados do Contrato</h2>

                <div class="alert alert-info" id="alertPreenchimento">
                    üí° <strong>Dica:</strong> Os dados do mentorado foram preenchidos automaticamente. Ajuste se necess√°rio.
                </div>

                <div class="alert alert-success" id="alertCopia" style="display: none;">
                    ‚úÖ <strong>Sucesso!</strong> Contrato copiado para a √°rea de transfer√™ncia!
                </div>

                <form id="contratoForm">
                    <!-- CONTRATANTE (Mentorado) -->
                    <h3 style="color: var(--primary-blue); margin-bottom: 1rem;">üë§ Dados do Contratante</h3>

                    <div class="form-group">
                        <label>Nome Completo *</label>
                        <input type="text" id="nomeContratante" required>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label>CPF *</label>
                            <input type="text" id="cpfContratante" placeholder="000.000.000-00" required>
                        </div>
                        <div class="form-group">
                            <label>Email *</label>
                            <input type="email" id="emailContratante" required>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label>WhatsApp *</label>
                            <input type="text" id="whatsappContratante" placeholder="(00) 00000-0000" required>
                        </div>
                        <div class="form-group">
                            <label>CEP</label>
                            <input type="text" id="cepContratante" placeholder="00000-000">
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Endere√ßo Completo *</label>
                        <input type="text" id="enderecoContratante" placeholder="Rua, n√∫mero, complemento, bairro, cidade, estado" required>
                    </div>

                    <!-- DADOS DA MENTORIA -->
                    <h3 style="color: var(--primary-gold); margin-top: 2rem; margin-bottom: 1rem;">üéì Dados da Mentoria</h3>

                    <div class="form-group">
                        <label>Mentoria Contratada *</label>
                        <select id="mentoria" required>
                            <option value="">Selecione...</option>
                            <option value="SYNESIS" data-preco="2997">SYNESIS - Discernimento Espiritual (R$ 2.997,00)</option>
                            <option value="LEV" data-preco="2497">LEV - Luz, Esperan√ßa e Vida (R$ 2.497,00)</option>
                            <option value="TCC" data-preco="350">TCC - Coaching por Sess√£o (R$ 350,00/sess√£o)</option>
                        </select>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label>Valor Total *</label>
                            <input type="text" id="valorTotal" readonly>
                        </div>
                        <div class="form-group">
                            <label>Forma de Pagamento *</label>
                            <select id="formaPagamento" required>
                                <option value="">Selecione...</option>
                                <option value="PIX">PIX</option>
                                <option value="Cart√£o de Cr√©dito">Cart√£o de Cr√©dito</option>
                                <option value="Boleto Banc√°rio">Boleto Banc√°rio</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label>N√∫mero de Parcelas *</label>
                            <select id="numeroParcelas" required>
                                <option value="">Selecione...</option>
                                <option value="1">1x (√† vista)</option>
                                <option value="2">2x</option>
                                <option value="3">3x</option>
                                <option value="6">6x</option>
                                <option value="12">12x</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Valor por Parcela</label>
                            <input type="text" id="valorParcela" readonly>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Data de Vencimento (1¬™ Parcela) *</label>
                        <input type="date" id="dataVencimento" required>
                    </div>

                    <button type="button" class="btn-primary" onclick="copiarContrato()">üìã Copiar Contrato Completo</button>
                </form>
            </div>

            <!-- Painel Direito: Preview -->
            <div class="panel">
                <h2 class="panel-title">üëÅÔ∏è Preview do Contrato</h2>
                <div class="preview-container" id="previewContrato">
                    <p style="text-align: center; color: #94a3b8;">Preencha os dados ao lado para visualizar o contrato.</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ============================================
        // FUN√á√ïES DE INICIALIZA√á√ÉO
        // ============================================

        window.addEventListener('DOMContentLoaded', function() {
            carregarDadosMentorado();
            configurarEventos();
            atualizarPreview();
        });

        function carregarDadosMentorado() {
            const mentoradoAtual = JSON.parse(localStorage.getItem('currentMentorado') || '{}');
            
            if (mentoradoAtual.nome) {
                document.getElementById('nomeContratante').value = mentoradoAtual.nome || '';
                document.getElementById('cpfContratante').value = mentoradoAtual.cpf || '';
                document.getElementById('emailContratante').value = mentoradoAtual.email || '';
                document.getElementById('whatsappContratante').value = mentoradoAtual.whatsapp || '';
                document.getElementById('enderecoContratante').value = mentoradoAtual.endereco || '';
                
                // Preenche mentoria se dispon√≠vel
                if (mentoradoAtual.mentoria) {
                    const selectMentoria = document.getElementById('mentoria');
                    for (let option of selectMentoria.options) {
                        if (option.value === mentoradoAtual.mentoria) {
                            selectMentoria.value = mentoradoAtual.mentoria;
                            calcularValores();
                            break;
                        }
                    }
                }
            }
        }

        function configurarEventos() {
            // Atualizar preview em tempo real
            document.querySelectorAll('input, select, textarea').forEach(input => {
                input.addEventListener('input', atualizarPreview);
                input.addEventListener('change', atualizarPreview);
            });

            // Calcular valores ao mudar mentoria ou parcelas
            document.getElementById('mentoria').addEventListener('change', calcularValores);
            document.getElementById('numeroParcelas').addEventListener('change', calcularValores);

            // M√°scaras
            document.getElementById('cpfContratante').addEventListener('input', function(e) {
                e.target.value = mascaraCPF(e.target.value);
            });
            
            document.getElementById('whatsappContratante').addEventListener('input', function(e) {
                e.target.value = mascaraTelefone(e.target.value);
            });
            
            document.getElementById('cepContratante').addEventListener('input', function(e) {
                e.target.value = mascaraCEP(e.target.value);
            });
        }

        // ============================================
        // FUN√á√ïES DE C√ÅLCULO
        // ============================================

        function calcularValores() {
            const mentoriaSelect = document.getElementById('mentoria');
            const selectedOption = mentoriaSelect.options[mentoriaSelect.selectedIndex];
            const preco = selectedOption.getAttribute('data-preco');
            const numeroParcelas = parseInt(document.getElementById('numeroParcelas').value) || 1;

            if (preco) {
                const valorTotal = parseFloat(preco);
                const valorParcela = valorTotal / numeroParcelas;

                document.getElementById('valorTotal').value = 'R$ ' + valorTotal.toFixed(2).replace('.', ',');
                document.getElementById('valorParcela').value = 'R$ ' + valorParcela.toFixed(2).replace('.', ',');
            }

            atualizarPreview();
        }

        // ============================================
        // FUN√á√ïES DE M√ÅSCARA
        // ============================================

        function mascaraCPF(valor) {
            valor = valor.replace(/\D/g, '');
            valor = valor.replace(/(\d{3})(\d)/, '$1.$2');
            valor = valor.replace(/(\d{3})(\d)/, '$1.$2');
            valor = valor.replace(/(\d{3})(\d{1,2})$/, '$1-$2');
            return valor;
        }

        function mascaraTelefone(valor) {
            valor = valor.replace(/\D/g, '');
            valor = valor.replace(/^(\d{2})(\d)/g, '($1) $2');
            valor = valor.replace(/(\d)(\d{4})$/, '$1-$2');
            return valor;
        }

        function mascaraCEP(valor) {
            valor = valor.replace(/\D/g, '');
            valor = valor.replace(/^(\d{5})(\d)/, '$1-$2');
            return valor;
        }

        // ============================================
        // ATUALIZAR PREVIEW
        // ============================================

        function atualizarPreview() {
            const nome = document.getElementById('nomeContratante').value;
            const cpf = document.getElementById('cpfContratante').value;
            const email = document.getElementById('emailContratante').value;
            const whatsapp = document.getElementById('whatsappContratante').value;
            const endereco = document.getElementById('enderecoContratante').value;
            const mentoriaSelect = document.getElementById('mentoria');
            const mentoriaNome = mentoriaSelect.options[mentoriaSelect.selectedIndex].text;
            const valorTotal = document.getElementById('valorTotal').value;
            const formaPagamento = document.getElementById('formaPagamento').value;
            const numeroParcelas = document.getElementById('numeroParcelas').value;
            const valorParcela = document.getElementById('valorParcela').value;
            const dataVencimento = document.getElementById('dataVencimento').value;

            if (!nome) {
                document.getElementById('previewContrato').innerHTML = '<p style="text-align: center; color: #94a3b8;">Preencha os dados ao lado para visualizar o contrato.</p>';
                return;
            }

            const dataFormatada = dataVencimento ? new Date(dataVencimento + 'T00:00:00').toLocaleDateString('pt-BR') : '[DATA]';
            const dataContrato = new Date().toLocaleDateString('pt-BR');

            const contratoHTML = `
                <h2>CONTRATO DE PRESTA√á√ÉO DE SERVI√áOS DE MENTORIA</h2>
                
                <p><strong>CONTRATADO:</strong></p>
                <p>
                    <strong>Nome:</strong> Sergio Kiyoshi Tanigawa<br>
                    <strong>CPF:</strong> 205.447.778-83<br>
                    <strong>Endere√ßo:</strong> Av. Cauaxi, 258 - Ap. 131 - Alphaville - Barueri - SP - CEP: 06454-020
                </p>

                <p><strong>CONTRATANTE:</strong></p>
                <p>
                    <strong>Nome:</strong> ${nome || '[NOME]'}<br>
                    <strong>CPF:</strong> ${cpf || '[CPF]'}<br>
                    <strong>Email:</strong> ${email || '[EMAIL]'}<br>
                    <strong>WhatsApp:</strong> ${whatsapp || '[WHATSAPP]'}<br>
                    <strong>Endere√ßo:</strong> ${endereco || '[ENDERE√áO]'}
                </p>

                <p>As partes acima qualificadas t√™m, entre si, justo e acertado o presente <strong>CONTRATO DE PRESTA√á√ÉO DE SERVI√áOS DE MENTORIA</strong>, que se reger√° pelas cl√°usulas seguintes e pelas condi√ß√µes descritas no presente.</p>

                <h3>CL√ÅUSULA 1¬™ - DO OBJETO</h3>
                <p>O presente contrato tem como objeto a presta√ß√£o de servi√ßos de mentoria online denominada <strong>"${mentoriaNome || '[MENTORIA]'}"</strong>, oferecida pelo CONTRATADO ao CONTRATANTE, via plataforma de videoconfer√™ncia (Zoom, Google Meet ou similar).</p>

                <h3>CL√ÅUSULA 2¬™ - DA DURA√á√ÉO E FORMATO</h3>
                <p><strong>2.1.</strong> A mentoria ter√° dura√ß√£o de <strong>3 (tr√™s) meses</strong>, com sess√µes semanais de aproximadamente <strong>60 (sessenta) minutos</strong> cada.</p>
                <p><strong>2.2.</strong> Todas as sess√µes ser√£o <strong>gravadas em v√≠deo e √°udio</strong> para fins de revis√£o e acompanhamento pedag√≥gico.</p>
                <p><strong>2.3.</strong> As grava√ß√µes ficar√£o dispon√≠veis para o CONTRATANTE por um per√≠odo de <strong>6 (seis) meses</strong>, sendo 3 (tr√™s) meses durante a mentoria e 3 (tr√™s) meses ap√≥s o t√©rmino.</p>

                <h3>CL√ÅUSULA 3¬™ - DO VALOR E FORMA DE PAGAMENTO</h3>
                <p><strong>3.1.</strong> O valor total da mentoria √© de <strong>${valorTotal || '[VALOR]'}</strong>.</p>
                <p><strong>3.2.</strong> A forma de pagamento escolhida √©: <strong>${formaPagamento || '[FORMA]'}</strong>.</p>
                <p><strong>3.3.</strong> O pagamento ser√° realizado em <strong>${numeroParcelas || '[N]'}x</strong> parcelas de <strong>${valorParcela || '[VALOR PARCELA]'}</strong>.</p>
                <p><strong>3.4.</strong> O vencimento da primeira parcela √© <strong>${dataFormatada}</strong>, com vencimentos subsequentes nas mesmas datas dos meses seguintes.</p>

                <h3>CL√ÅUSULA 4¬™ - DAS OBRIGA√á√ïES DO CONTRATADO</h3>
                <p><strong>4.1.</strong> Ministrar as sess√µes de mentoria conforme cronograma acordado.</p>
                <p><strong>4.2.</strong> Fornecer materiais de apoio quando aplic√°vel.</p>
                <p><strong>4.3.</strong> Disponibilizar as grava√ß√µes das sess√µes pelo per√≠odo estabelecido.</p>
                <p><strong>4.4.</strong> Manter sigilo sobre todas as informa√ß√µes compartilhadas durante as sess√µes.</p>

                <h3>CL√ÅUSULA 5¬™ - DAS OBRIGA√á√ïES DO CONTRATANTE</h3>
                <p><strong>5.1.</strong> Efetuar o pagamento nas datas de vencimento estabelecidas.</p>
                <p><strong>5.2.</strong> Comparecer √†s sess√µes agendadas ou avisar com anteced√™ncia m√≠nima de 24 horas em caso de impossibilidade.</p>
                <p><strong>5.3.</strong> Comprometer-se com o processo de desenvolvimento proposto na mentoria.</p>
                <p><strong>5.4.</strong> N√£o compartilhar publicamente as grava√ß√µes das sess√µes sem autoriza√ß√£o pr√©via e por escrito do CONTRATADO.</p>

                <h3>CL√ÅUSULA 6¬™ - DO CANCELAMENTO E REMARCA√á√ÉO</h3>
                <p><strong>6.1.</strong> Sess√µes canceladas pelo CONTRATANTE com menos de 24 horas de anteced√™ncia ser√£o consideradas realizadas.</p>
                <p><strong>6.2.</strong> Sess√µes canceladas pelo CONTRATADO ser√£o remarcadas sem custos adicionais.</p>

                <h3>CL√ÅUSULA 7¬™ - DA RESCIS√ÉO</h3>
                <p><strong>7.1.</strong> O presente contrato poder√° ser rescindido por qualquer das partes mediante comunica√ß√£o por escrito com 15 dias de anteced√™ncia.</p>
                <p><strong>7.2.</strong> Em caso de rescis√£o pelo CONTRATANTE, os valores j√° pagos n√£o ser√£o reembolsados, sendo devidas apenas as parcelas referentes √†s sess√µes n√£o realizadas.</p>
                <p><strong>7.3.</strong> Em caso de inadimpl√™ncia, o CONTRATADO poder√° suspender a presta√ß√£o dos servi√ßos at√© regulariza√ß√£o.</p>

                <h3>CL√ÅUSULA 8¬™ - DA PROPRIEDADE INTELECTUAL</h3>
                <p><strong>8.1.</strong> Todo o conte√∫do, materiais e grava√ß√µes produzidas durante a mentoria s√£o de propriedade exclusiva do Instituto Tanigawa.</p>
                <p><strong>8.2.</strong> O CONTRATANTE tem direito de acesso pessoal e intransfer√≠vel ao conte√∫do, vedada qualquer forma de reprodu√ß√£o, distribui√ß√£o ou comercializa√ß√£o.</p>

                <h3>CL√ÅUSULA 9¬™ - DA PROTE√á√ÉO DE DADOS (LGPD)</h3>
                <p><strong>9.1.</strong> O CONTRATANTE autoriza expressamente a coleta, armazenamento e processamento de seus dados pessoais (nome, CPF, email, WhatsApp, endere√ßo, imagem e voz nas grava√ß√µes) para as seguintes finalidades:</p>
                <p>a) Presta√ß√£o dos servi√ßos de mentoria;</p>
                <p>b) Emiss√£o de documentos fiscais e contratuais;</p>
                <p>c) Comunica√ß√£o sobre a mentoria e materiais relacionados;</p>
                <p>d) Grava√ß√£o das sess√µes para fins pedag√≥gicos.</p>
                <p><strong>9.2.</strong> Os dados pessoais ser√£o armazenados pelo per√≠odo de <strong>5 (cinco) anos</strong> ap√≥s o t√©rmino da mentoria, conforme legisla√ß√£o aplic√°vel.</p>
                <p><strong>9.3.</strong> O CONTRATANTE tem direito de: a) acessar seus dados; b) corrigir dados incompletos ou incorretos; c) solicitar a exclus√£o de dados; d) solicitar a portabilidade dos dados.</p>
                <p><strong>9.4.</strong> Os dados ser√£o compartilhados apenas com plataformas necess√°rias √† presta√ß√£o do servi√ßo (videoconfer√™ncia, armazenamento em nuvem, processamento de pagamentos).</p>
                <p><strong>9.5.</strong> Todas as medidas de seguran√ßa t√©cnicas e organizacionais ser√£o adotadas para proteger os dados contra acessos n√£o autorizados.</p>

                <h3>CL√ÅUSULA 10¬™ - DO TERMO DE GRAVA√á√ÉO</h3>
                <p><strong>10.1.</strong> O CONTRATANTE declara estar plenamente ciente de que todas as sess√µes de mentoria ser√£o gravadas em v√≠deo e √°udio.</p>
                <p><strong>10.2.</strong> O CONTRATANTE consente expressamente com a grava√ß√£o de sua imagem e voz para fins exclusivos de acompanhamento pedag√≥gico e revis√£o pessoal.</p>
                <p><strong>10.3.</strong> As grava√ß√µes t√™m uso exclusivamente pedag√≥gico e pessoal, sendo vedado ao CONTRATANTE:</p>
                <p>a) Compartilhar as grava√ß√µes em redes sociais ou plataformas p√∫blicas;</p>
                <p>b) Distribuir, comercializar ou reproduzir o conte√∫do gravado;</p>
                <p>c) Editar ou modificar as grava√ß√µes de qualquer forma.</p>
                <p><strong>10.4.</strong> O descumprimento desta cl√°usula sujeitar√° o CONTRATANTE √†s penalidades legais cab√≠veis, incluindo indeniza√ß√£o por danos morais e materiais.</p>

                <h3>CL√ÅUSULA 11¬™ - DAS DISPOSI√á√ïES GERAIS</h3>
                <p><strong>11.1.</strong> Este contrato √© regido pelas leis brasileiras.</p>
                <p><strong>11.2.</strong> Qualquer altera√ß√£o deste contrato dever√° ser feita por escrito e assinada por ambas as partes.</p>
                <p><strong>11.3.</strong> As partes elegem o foro da comarca de Barueri/SP para dirimir quaisquer controv√©rsias oriundas deste contrato.</p>

                <p style="margin-top: 2rem;"><strong>ACEITE ELETR√îNICO:</strong></p>
                <p>
                    O CONTRATANTE declara ter lido, compreendido e aceito todas as cl√°usulas deste contrato.<br>
                    <strong>Data do Aceite:</strong> ${dataContrato}<br>
                    <strong>IP:</strong> [Registrado automaticamente]<br>
                    <strong>Hor√°rio:</strong> [Registrado automaticamente]<br>
                    <strong>C√≥digo de Verifica√ß√£o:</strong> [Gerado automaticamente]
                </p>

                <p style="text-align: center; margin-top: 3rem; padding-top: 2rem; border-top: 1px solid #ddd;">
                    <strong>_______________________________________</strong><br>
                    Sergio Kiyoshi Tanigawa<br>
                    CONTRATADO<br>
                    <br>
                    <strong>_______________________________________</strong><br>
                    ${nome || '[NOME DO CONTRATANTE]'}<br>
                    CONTRATANTE
                </p>
            `;

            document.getElementById('previewContrato').innerHTML = contratoHTML;
        }

        // ============================================
        // COPIAR CONTRATO
        // ============================================

        function copiarContrato() {
            const previewElement = document.getElementById('previewContrato');
            const texto = previewElement.innerText;

            if (!texto || texto.includes('[NOME]')) {
                alert('‚ö†Ô∏è Por favor, preencha todos os campos obrigat√≥rios antes de copiar o contrato.');
                return;
            }

            navigator.clipboard.writeText(texto).then(() => {
                const alertCopia = document.getElementById('alertCopia');
                alertCopia.style.display = 'block';
                
                setTimeout(() => {
                    alertCopia.style.display = 'none';
                }, 5000);
            }).catch(err => {
                alert('‚ùå Erro ao copiar contrato. Tente selecionar manualmente.');
                console.error('Erro:', err);
            });
        }

        // ============================================
        // NAVEGA√á√ÉO
        // ============================================

        function voltarDashboard() {
            if (confirm('Tem certeza que deseja voltar? As altera√ß√µes n√£o salvas ser√£o perdidas.')) {
                window.location.href = 'admin_dashboard.html';
            }
        }
    </script>
</body>
</html>
