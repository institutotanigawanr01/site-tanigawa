<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Devocionais - Instituto Tanigawa</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700;800&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root { --primary-blue: #3b82f6; --primary-gold: #f59e0b; --dark-bg: #0f172a; --card-bg: rgba(30, 41, 59, 0.5); --text-light: #e2e8f0; --text-gray: #94a3b8; --success: #10b981; --danger: #ef4444; }
        body { font-family: 'Inter', sans-serif; background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%); color: var(--text-light); min-height: 100vh; }
        .header { background: rgba(15, 23, 42, 0.95); backdrop-filter: blur(10px); border-bottom: 1px solid rgba(59, 130, 246, 0.2); padding: 1.5rem 2rem; position: sticky; top: 0; z-index: 100; }
        .header-content { max-width: 1200px; margin: 0 auto; display: flex; justify-content: space-between; align-items: center; }
        .logo { display: flex; align-items: center; gap: 1rem; cursor: pointer; }
        .logo-icon { width: 50px; height: 50px; background: linear-gradient(135deg, #3b82f6, #f59e0b); border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; font-weight: 800; color: white; }
        h1 { font-family: 'Playfair Display', serif; font-size: 1.5rem; background: linear-gradient(135deg, #3b82f6, #f59e0b); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .nav-links { display: flex; gap: 2rem; }
        .nav-links a { color: var(--text-gray); text-decoration: none; font-size: 0.875rem; font-weight: 600; transition: color 0.3s; }
        .nav-links a:hover { color: var(--text-light); }
        .hero { max-width: 800px; margin: 0 auto; padding: 4rem 1rem; text-align: center; }
        .hero-title { font-family: 'Playfair Display', serif; font-size: 3rem; margin-bottom: 1rem; background: linear-gradient(135deg, #3b82f6, #f59e0b); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .hero-subtitle { color: var(--text-gray); font-size: 1.125rem; line-height: 1.6; }
        .filter-bar { max-width: 1200px; margin: 0 auto 2rem; padding: 0 1rem; display: flex; gap: 1rem; flex-wrap: wrap; justify-content: center; }
        .filter-btn { padding: 0.5rem 1.5rem; background: rgba(59, 130, 246, 0.1); border: 1px solid rgba(59, 130, 246, 0.3); border-radius: 999px; color: var(--text-light); font-size: 0.875rem; font-weight: 600; cursor: pointer; transition: all 0.3s; }
        .filter-btn:hover { background: rgba(59, 130, 246, 0.2); }
        .filter-btn.active { background: linear-gradient(135deg, #3b82f6, #f59e0b); border-color: transparent; }
        .container { max-width: 1200px; margin: 0 auto; padding: 0 1rem 4rem; }
        .posts-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(350px, 1fr)); gap: 2rem; margin-bottom: 3rem; }
        .post-card { background: var(--card-bg); backdrop-filter: blur(10px); border: 1px solid rgba(59, 130, 246, 0.2); border-radius: 16px; padding: 2rem; cursor: pointer; transition: all 0.3s; }
        .post-card:hover { transform: translateY(-5px); border-color: var(--primary-blue); box-shadow: 0 10px 30px rgba(59, 130, 246, 0.3); }
        .post-icon { font-size: 3rem; margin-bottom: 1rem; }
        .post-category { display: inline-block; padding: 0.25rem 0.75rem; background: rgba(59, 130, 246, 0.2); border-radius: 999px; font-size: 0.75rem; font-weight: 600; color: var(--primary-blue); margin-bottom: 1rem; }
        .post-title { font-family: 'Playfair Display', serif; font-size: 1.5rem; margin-bottom: 0.5rem; color: var(--text-light); }
        .post-meta { display: flex; gap: 1rem; font-size: 0.75rem; color: var(--text-gray); margin-bottom: 1rem; }
        .post-excerpt { color: var(--text-gray); line-height: 1.6; font-size: 0.875rem; margin-bottom: 1rem; }
        .post-verse { background: rgba(59, 130, 246, 0.1); padding: 0.75rem; border-radius: 8px; border-left: 3px solid var(--primary-blue); font-size: 0.875rem; font-style: italic; color: var(--text-gray); }
        .article { max-width: 800px; margin: 0 auto; background: var(--card-bg); backdrop-filter: blur(10px); border: 1px solid rgba(59, 130, 246, 0.2); border-radius: 16px; padding: 3rem; }
        .article-header { margin-bottom: 2rem; text-align: center; }
        .article-icon { font-size: 4rem; margin-bottom: 1rem; }
        .article-title { font-family: 'Playfair Display', serif; font-size: 2.5rem; margin-bottom: 1rem; background: linear-gradient(135deg, #3b82f6, #f59e0b); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .article-meta { display: flex; gap: 1.5rem; justify-content: center; font-size: 0.875rem; color: var(--text-gray); }
        .article-verse { background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(245, 158, 11, 0.1)); padding: 1.5rem; border-radius: 12px; border-left: 4px solid var(--primary-blue); margin: 2rem 0; }
        .article-verse-ref { font-weight: 600; color: var(--primary-blue); margin-bottom: 0.5rem; }
        .article-verse-text { font-style: italic; color: var(--text-light); line-height: 1.6; }
        .article-content { color: var(--text-light); line-height: 1.8; font-size: 1.125rem; }
        .article-content h2 { font-family: 'Playfair Display', serif; font-size: 1.75rem; margin-top: 2rem; margin-bottom: 1rem; color: var(--primary-blue); }
        .article-content h3 { font-family: 'Playfair Display', serif; font-size: 1.5rem; margin-top: 1.5rem; margin-bottom: 0.75rem; color: var(--primary-gold); }
        .article-content p { margin-bottom: 1.25rem; }
        .article-content ul, .article-content ol { margin-left: 2rem; margin-bottom: 1.25rem; }
        .article-content li { margin-bottom: 0.5rem; }
        .article-content strong { color: var(--text-light); }
        .article-content em { color: var(--text-gray); }
        .article-content blockquote { border-left: 4px solid var(--primary-gold); padding-left: 1.5rem; margin: 2rem 0; font-style: italic; color: var(--text-gray); }
        .article-content hr { border: none; border-top: 1px solid rgba(59, 130, 246, 0.2); margin: 2rem 0; }
        .btn-back { display: inline-flex; align-items: center; gap: 0.5rem; padding: 0.75rem 1.5rem; background: rgba(59, 130, 246, 0.1); border: 1px solid rgba(59, 130, 246, 0.3); border-radius: 8px; color: var(--text-light); font-size: 0.875rem; font-weight: 600; cursor: pointer; transition: all 0.3s; margin-bottom: 2rem; }
        .btn-back:hover { background: rgba(59, 130, 246, 0.2); transform: translateX(-5px); }
        .loading { text-align: center; padding: 4rem; color: var(--text-gray); }
        .loading-icon { font-size: 3rem; margin-bottom: 1rem; animation: pulse 1.5s infinite; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
        .empty-state { text-align: center; padding: 4rem 1rem; }
        .empty-icon { font-size: 4rem; margin-bottom: 1rem; opacity: 0.3; }
        @media (max-width: 768px) {
            .hero-title { font-size: 2rem; }
            .posts-grid { grid-template-columns: 1fr; }
            .article { padding: 2rem 1.5rem; }
            .article-title { font-size: 2rem; }
            .article-content { font-size: 1rem; }
            .nav-links { display: none; }
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="header-content">
            <div class="logo" onclick="window.location.href='home.html'">
                <div class="logo-icon">IT</div>
                <div><h1>Instituto Tanigawa</h1><p style="font-size: 0.75rem; color: var(--text-gray);">Devocionais e Reflex√µes</p></div>
            </div>
            <nav class="nav-links">
                <a href="home.html">In√≠cio</a>
                <a href="mentoria.html">Mentorias</a>
                <a href="sobre.html">Sobre</a>
                <a href="contato.html">Contato</a>
            </nav>
        </div>
    </div>
    <div id="listView">
        <div class="hero">
            <h2 class="hero-title">Devocionais</h2>
            <p class="hero-subtitle">Reflex√µes profundas sobre lideran√ßa espiritual, prop√≥sito e transforma√ß√£o pessoal. Escritos por Sergio Tanigawa e Wanessa Tanigawa.</p>
        </div>
        <div class="filter-bar">
            <button class="filter-btn active" onclick="filtrarPorCategoria('todos')">üìö Todos</button>
            <button class="filter-btn" onclick="filtrarPorCategoria('Lideran√ßa Espiritual')">‚öîÔ∏è Lideran√ßa</button>
            <button class="filter-btn" onclick="filtrarPorCategoria('Cura Emocional')">üíú Cura Emocional</button>
            <button class="filter-btn" onclick="filtrarPorCategoria('Prop√≥sito e Chamado')">üéØ Prop√≥sito</button>
        </div>
        <div class="container">
            <div class="posts-grid" id="postsGrid"><div class="loading"><div class="loading-icon">‚è≥</div><p>Carregando devocionais...</p></div></div>
        </div>
    </div>
    <div id="articleView" style="display: none;">
        <div class="container">
            <button class="btn-back" onclick="voltarParaLista()">‚Üê Voltar para Devocionais</button>
            <article class="article" id="articleContent"></article>
        </div>
    </div>
    <script>
        const devocionais = [
            {filename: '2024-11-20-o-peso-da-lideranca-espiritual.md', title: 'O Peso da Lideran√ßa Espiritual', date: '2024-11-20', author: 'Sergio', category: 'Lideran√ßa Espiritual', verse: '1 Tim√≥teo 3:1', verse_text: 'Fiel √© a palavra: Se algu√©m aspira ao episcopado, excelente obra deseja.', excerpt: 'A lideran√ßa espiritual n√£o √© um t√≠tulo, mas uma jornada de servi√ßo, sacrif√≠cio e transforma√ß√£o.', icon: '‚öîÔ∏è'},
            {filename: '2024-11-22-transformando-dor-em-amor.md', title: 'Transformando Dor em Amor', date: '2024-11-22', author: 'Wanessa', category: 'Cura Emocional', verse: 'Salmos 147:3', verse_text: 'Ele sara os quebrantados de cora√ß√£o e lhes enfaixa as feridas.', excerpt: 'A jornada da cura emocional n√£o √© sobre eliminar a dor, mas sobre transform√°-la.', icon: 'üíú'},
            {filename: '2024-11-25-jornada-de-abraao.md', title: 'A Jornada de Abra√£o', date: '2024-11-25', author: 'Sergio', category: 'Prop√≥sito e Chamado', verse: 'Hebreus 11:8', verse_text: 'Pela f√©, Abra√£o, quando chamado, obedeceu.', excerpt: 'O chamado de Deus nem sempre vem com um mapa detalhado.', icon: 'üéØ'}
        ];
        let categoriaAtual = 'todos';
        window.addEventListener('DOMContentLoaded', function() {
            renderizarLista();
            const params = new URLSearchParams(window.location.search);
            const slug = params.get('post');
            if (slug) {
                const dev = devocionais.find(d => d.filename.includes(slug));
                if (dev) abrirDevocional(dev);
            }
        });
        function renderizarLista() {
            const grid = document.getElementById('postsGrid');
            const filtrados = categoriaAtual === 'todos' ? devocionais : devocionais.filter(d => d.category === categoriaAtual);
            if (filtrados.length === 0) { grid.innerHTML = '<div class="empty-state"><div class="empty-icon">üì≠</div><p>Nenhum devocional encontrado.</p></div>'; return; }
            grid.innerHTML = filtrados.map(d => {
                const data = new Date(d.date + 'T00:00:00').toLocaleDateString('pt-BR', {day: '2-digit', month: 'long', year: 'numeric'});
                return `<div class="post-card" onclick='abrirDevocional(${JSON.stringify(d).replace(/'/g, "&apos;")})'><div class="post-icon">${d.icon}</div><div class="post-category">${d.category}</div><h3 class="post-title">${d.title}</h3><div class="post-meta"><span>üìù ${d.author}</span><span>üìÖ ${data}</span></div><p class="post-excerpt">${d.excerpt}</p><div class="post-verse"><strong>${d.verse}:</strong> "${d.verse_text}"</div></div>`;
            }).join('');
        }
        function filtrarPorCategoria(cat) {
            categoriaAtual = cat;
            document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
            event.target.classList.add('active');
            renderizarLista();
        }
        async function abrirDevocional(d) {
            document.getElementById('listView').style.display = 'none';
            document.getElementById('articleView').style.display = 'block';
            window.scrollTo(0, 0);
            window.history.pushState({}, '', `?post=${d.filename.replace('.md', '')}`);
            await carregarMarkdown(d);
        }
        async function carregarMarkdown(d) {
            const content = document.getElementById('articleContent');
            content.innerHTML = '<div class="loading"><div class="loading-icon">‚è≥</div><p>Carregando...</p></div>';
            try {
                const res = await fetch(`devocionais/${d.filename}`);
                if (!res.ok) throw new Error('Not found');
                let md = await res.text();
                md = md.replace(/^---[\s\S]*?---\n/, '');
                const html = marked.parse(md);
                const data = new Date(d.date + 'T00:00:00').toLocaleDateString('pt-BR', {day: '2-digit', month: 'long', year: 'numeric'});
                content.innerHTML = `<div class="article-header"><div class="article-icon">${d.icon}</div><div class="post-category">${d.category}</div><h1 class="article-title">${d.title}</h1><div class="article-meta"><span>‚úçÔ∏è ${d.author}</span><span>üìÖ ${data}</span></div></div><div class="article-verse"><div class="article-verse-ref">${d.verse}</div><div class="article-verse-text">"${d.verse_text}"</div></div><div class="article-content">${html}</div>`;
            } catch (e) {
                content.innerHTML = `<div class="article-header"><div class="article-icon">${d.icon}</div><h1 class="article-title">${d.title}</h1></div><div class="article-content"><p>${d.excerpt}</p><p style="color: var(--danger); margin-top: 2rem;">‚ö†Ô∏è Conte√∫do temporariamente indispon√≠vel.</p></div>`;
            }
        }
        function voltarParaLista() {
            document.getElementById('articleView').style.display = 'none';
            document.getElementById('listView').style.display = 'block';
            window.history.pushState({}, '', window.location.pathname);
            window.scrollTo(0, 0);
        }
        window.addEventListener('popstate', function() {
            const params = new URLSearchParams(window.location.search);
            const slug = params.get('post');
            if (slug) {
                const d = devocionais.find(x => x.filename.includes(slug));
                if (d) abrirDevocional(d); else voltarParaLista();
            } else voltarParaLista();
        });
    </script>
</body>
</html>
